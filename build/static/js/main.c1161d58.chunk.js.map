{"version":3,"sources":["services/persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","person","post","id","changedPerson","put","delete","status","Notification","notification","className","type","message","Filter","value","handleChange","onChange","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","handleSubmit","onSubmit","Persons","persons","deletePersonOf","map","deletePerson","name","Person","number","onClick","App","useState","setPersons","setNewName","setNewNumber","nameFilter","setNameFilter","setNotification","useEffect","personService","initialPersons","showMessage","setTimeout","filteredPersons","filter","toUpperCase","includes","event","target","preventDefault","some","window","confirm","find","returnedPerson","catch","error","errorData","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c1161d58.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = person => {\n    const request = axios.post(baseUrl, person)\n    return request.then(response => response.data)\n}\n\nconst update = (id, changedPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, changedPerson)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.status)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ notification }) => {\n    if (notification === null) {\n        return null\n    }\n\n    const className = notification.type === 'success' ? 'successful' : 'error'\n    return (\n        <div className={className}>\n            {notification.message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst Filter = ({ value, handleChange }) => <div>filter shown with <input value={value} onChange={handleChange} /></div>\n\nconst PersonForm = ({ newName, handleNameChange, newNumber, handleNumberChange, handleSubmit }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} /></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>)\n}\n\nconst Persons = ({ persons, deletePersonOf }) => persons.map(person => <Person key={person.name} person={person} deletePerson={() => deletePersonOf(person.id)} />)\n\nconst Person = ({ person, deletePerson }) => <div>{person.name} {person.number} <button onClick={deletePerson}>delete</button></div>\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const showMessage = (message, type = 'success') => {\n    setNotification({ message, type })\n    setTimeout(() => {\n      setNotification(null)\n    }, 3000)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    const nameAlreadyAdded = persons.some((person) => person.name === newName)\n\n    if (nameAlreadyAdded) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(person => person.name === newName)\n        const changedPerson = { ...person, number: newNumber }\n\n        personService\n          .update(person.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            const errorData = error.response.data\n            showMessage(errorData.error, 'error')\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n\n          setNewName('')\n          setNewNumber('')\n\n          showMessage(`Added ${returnedPerson.name}`)\n        })\n        .catch(error => {\n          const errorData = error.response.data\n          showMessage(errorData.error, 'error')\n        })\n    }\n  }\n\n  const deletePersonOf = (id) => {\n    const { name } = persons.find(person => person.id === id)\n    if (window.confirm(`delete ${name}?`)) {\n      personService\n        .remove(id)\n        .then(status => {\n          if (status === 204) {\n            setPersons(persons.filter(person => person.id !== id))\n          }\n        })\n        .catch(error => {\n          showMessage(`information of ${name} has already been removed from server`, 'error')\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilterChange = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  const filteredPersons = persons.filter((person) => person.name.toUpperCase().includes(nameFilter.toUpperCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter value={nameFilter} handleChange={handleNameFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} handleSubmit={addName} />\n      <h3>Numbers</h3>\n      <Persons persons={filteredPersons} deletePersonOf={(id) => deletePersonOf(id)} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}